% This is the source for the REDUCE Manual.

\documentclass[11pt,a4paper]{book}

\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{makeidx}
\usepackage{alltt}
\usepackage{times}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
%\usepackage{chapterbib}
\usepackage{graphicx}
\usepackage{xspace}

%% Don't use the caption package because it breaks HTML output using TeX4ht!

\makeatletter

%\let\include=\cb@include

\renewenvironment{theindex}
               {\if@twocolumn
                  \@restonecolfalse
                \else
                  \@restonecoltrue
                \fi
                \@makeschapterhead{\indexname}%
                \@mkboth{\MakeUppercase\indexname}%
                        {\MakeUppercase\indexname}%
                \thispagestyle{plain}\parindent\z@
                \parskip\z@ \@plus .3\p@\relax
                \columnseprule \z@
                \columnsep 35\p@
                \let\item\@idxitem
                \setcounter{secnumdepth}{0}%
                \pdfbookmark[0]{Index}{Index}%
                \hypertarget{Index}{}%
                \addtocontents{toc}{\protect\contentsline{chapter}{Index}{\thepage}{Index}}}
               {\if@restonecol\onecolumn\else\clearpage\fi}

\newcommand{\indexsection}[1]{%
  \section*{#1}%
  \sectionmark{#1}%
  \pdfbookmark[1]{#1}{Index.#1}%
  \hypertarget{Index.#1}{}%
  \addtocontents{toc}{\protect\contentsline{section}{#1}{\thepage}{Index.#1}}}

\renewenvironment{thebibliography}[1]
     {\chapter{\bibname}%
      \@mkboth{\MakeUppercase\bibname}{\MakeUppercase\bibname}%
      \list{\@biblabel{\@arabic\c@enumiv}}%
           {\settowidth\labelwidth{\@biblabel{#1}}%
            \leftmargin\labelwidth
            \advance\leftmargin\labelsep
            \@openbib@code
            \usecounter{enumiv}%
            \let\p@enumiv\@empty
            \renewcommand\theenumiv{\@arabic\c@enumiv}}%
      \sloppy
      \clubpenalty4000
      \@clubpenalty \clubpenalty
      \widowpenalty4000%
      \sfcode`\.\@m}
     {\def\@noitemerr
       {\@latex@warning{Empty `thebibliography' environment}}%
      \endlist}

\@ifundefined{Configure}
 {\def\Includegraphics[#1]#2{\includegraphics[#1]{#2.pdf}}}
 {\def\Includegraphics[#1]#2{\includegraphics[#1]{#2.eps}}}

\@ifpackageloaded{tex4ht}{
  \def\currentpdfbookmark{}
  \def\subpdfbookmark{}
  \def\belowpdfbookmark{}
}

%% The TOC entries for the User Contributed Packages section and
%% subsection numbers need a little more space.
%% The relevant default commands in book.cls are:
%% \newcommand*\l@section{\@dottedtocline{1}{1.5em}{2.3em}}
%% \newcommand*\l@subsection{\@dottedtocline{2}{3.8em}{3.2em}}
%% Allow an extra 0.5em, which is just enough to avoid overwriting:
\renewcommand*\l@section{\@dottedtocline{1}{1.5em}{2.8em}}
\renewcommand*\l@subsection{\@dottedtocline{2}{3.8em}{3.7em}}

\makeatother

%% \let\subsubsubsection\paragraph
%% \paragraph arguments just disappear in HTML generated by TeX4ht!
\def\subsubsubsection#1{\subsubsection*{#1}}
%\let\savedsectionbib\sectionbib

%\sectionbib{\subsection*}{subsection}

%\usepackage{cmbright}
%\usepackage{charter}
%\renewcommand{\rmdefault}{uaq}
%\renewcommand{\sfdefault}{ugq}
\usepackage[pdfencoding=auto]{hyperref}
\hypersetup{
  colorlinks=true,linkbordercolor={1 1 1},
  linkcolor=blue,urlcolor=blue,
  bookmarksnumbered=true,
  pdftitle={REDUCE User's Manual, Free Version \today},
  pdfauthor={\textcopyright Anthony C. Hearn and Rainer Sch√∂pf},
  pdfdisplaydoctitle=true,
}

%% bkm-dvips.def 2020-11-06 v1.29 bookmark driver for dvips (HO)
%% causes a problem with TeX4ht, so here is a workaround suggested by
%% Michal Hoftich <michal.h21@gmail.com>:
\def\BookmarkDriverDefault{dvipdfm}
\usepackage{bookmark}

\hyphenation{unique}
\hyphenation{effect}
\hyphenation{Stand-ard}
\hyphenation{libr-ary}
\hyphenation{direct-ory}
\hyphenation{state-ment}
\hyphenation{argu-ment}
\hyphenation{oper-ators}
\hyphenation{symb-olic}
\hyphenation{needs}
\hyphenation{GVARSLAST}
\hyphenation{ODE-SOLVE}
\hyphenation{hyper-geometric}
\hyphenation{equat-ion}
\hyphenation{equat-ions}
\hyphenation{OFF}
\hyphenation{Opt-ions}
\hyphenation{execu-tion}
\hyphenation{poly-nom-ials}
\hyphenation{func-t-ions}
\hyphenation{Inte-grals}
\hyphenation{Stutt-gart}

\setlength{\parindent}{0pt}

\setlength{\parskip}{6pt}

\setlength{\hfuzz}{10pt}  % don't complain about tiny overfull boxes
\setlength{\vfuzz}{1pt}

\renewcommand{\sloppy}{\tolerance=9999\relax%}
                       \setlength{\emergencystretch}{0.2\hsize}}

\tolerance=1000

\raggedbottom

\newlength{\reduceboxwidth}
\setlength{\reduceboxwidth}{4in}

\newlength{\redboxwidth}
\setlength{\redboxwidth}{3.5in}

\newlength{\rboxwidth}
\setlength{\rboxwidth}{2.6in}

\newcommand{\REDUCE}{REDUCE\xspace}
\newcommand{\RLISP}{RLISP\xspace}
\newcommand{\underscore}{\char`\_}
\newcommand{\ttindex}[1]{{\renewcommand{\_}{\protect\underscore}%
                          \renewcommand{\|}{\protect\textbar}%
                          \index{#1@\texttt{#1}}}}
\def\ttindextypehelper#1!#2\relax{\def\blubbera{#1}\def\blubberb{#2}}
%\def\capitalizehelper#1#2\relax{\edef\blubba{\uppercase{#1}\lowercase{#2}}}
\def\capitalizehelper#1#2\relax{\uppercase{\def\blubba{#1}}\lowercase{\def\blubbb{#2}}\edef\blubba{\blubba\blubbb}}
\def\capitalize#1{\capitalizehelper#1\relax}
\newcommand{\ttindextype}[3][]{{%
    \renewcommand{\_}{\protect\underscore}%
    \renewcommand{\|}{\protect\textbar}%
    \def\blubber{#1}%
    \ttindextypehelper#3!\relax  % set \blubberb to text after !
    \ifx\blubberb\empty  % true if \blubberb is empty
      \ifx\blubber\empty % no optional argument to \ttindextype
        \index{#2 #3@\texttt{#2} #3}%
      \else
        \capitalize{#1}%
        \index{#2 #3 (\blubba\space package)@\texttt{#2} #3 (\textsc{\blubba} package)}%
      \fi
    \else
      \index{#2 \blubbera@\texttt{#2} \blubbera!\blubberb}%
    \fi}}

%% In the HTML version, small capitals appear as capitals except that
%% ligatures remain in lower case, so force capitals for now.
\ifdefined\HCode
\newcommand*{\indexpackage}[1]{%
  \capitalize{#1}%
  \index{#1 package@\MakeUppercase{#1} package}%
  \index{Packages!#1@\MakeUppercase{#1}}%
}
\else
\newcommand*{\indexpackage}[1]{%
  \capitalize{#1}%
  \index{#1 package@\textsc{\blubba} package}%
  \index{Packages!#1@\textsc{\blubba}}%
}
\fi

\newcommand*{\ttindexswitch}[2][]{{%
       \renewcommand{\_}{\protect\underscore}%
       \renewcommand{\|}{\protect\textbar}%
       \index{#2 switch@\texttt{#2} switch}%
       \index{Switch!#2@\texttt{#2}}%
       \def\blubber{#1}%
       \ifx\blubber\empty
         \def\blubber{\index{Switches by package ! 000@REDUCE Core! #2@\texttt{#2}}}%
       \else
         \capitalize{#1}%
         \def\blubber{\index{Switches by package ! #1 package@\textsc{\blubba} package ! #2@\texttt{#2}}}%
       \fi
       \blubber}}
%\show\ttindexswitch

\newcommand{\COMPATNOTE}{{\em Compatibility Note:\ }}
% \meta{...} is an alternative sentential form in descriptions using \it.
\newcommand{\meta}[1]{$\langle$\textit{#1}$\rangle$}
% More commands for Backus-Naur form
\newcommand{\BNFprod}{$\longrightarrow$}
\newcommand{\BNFalt}{$\ \mid\ $}
\begingroup
  \catcode`\|=\active
  \catcode`\<=\active
  \catcode`\[=\active
  \global\let|=\BNFalt
  \global\def<#1>{\meta{#1}}
  \global\def[#1]{\left[#1\right]}
\endgroup

%% When generating MathJax output, the definition of syntax using math
%% mode caused htlatex compilation errors.
\newenvironment{syntax}{%
    \def\optional##1{$\,[$##1$]\,$}%
    \samepage
    \list{}{\setlength{\leftmargin}{1em}\setlength{\listparindent}{0em}}%
    \item\relax
    \catcode`\|=\active
}{\endlist}

\newenvironment{syntaxtable}{
  \def\intertext##1{\multicolumn{1}{@{}l}{##1}}%
    \syntax
    \begin{tabular}{@{}lcl}%
}{\end{tabular}\endsyntax}

% Will print out a heading in bold, and then indent the following text.
\def\indented{\list{}{
 \itemindent\listparindent
 \rightmargin\leftmargin}\item[]}
\let\endindented=\endlist
\newenvironment{describe}[1]{\par{\bf #1}\begin{indented}}{\end{indented}}

% Close up default vertical spacings:
\setlength{\topsep}{0.5\baselineskip}  % above and below environments
\setlength{\itemsep}{\topsep}
\setlength{\abovedisplayskip}{\topsep}  % for "long" equations
\setlength{\belowdisplayskip}{\topsep}

\DeclareRobustCommand{\package}[1]{\capitalize{#1}\textsc{\blubba}}
\newcommand{\key}[1]{\fbox{\textsf{#1}}}
\newcommand{\extendedmanual}[1]{#1}

% \s{...} is a sentential form in descriptions. Enclosed \em text in <...>
\newcommand{\s}[1] {$<$\,\emph{#1}\,$>$}

% \meta{...} is an alternative sentential form in descriptions using \it.
%\newcommand{\meta}[1]{\mbox{$\langle\textit{#1}\rangle$}}

% \k{...} is a keyword. Just do in bold for the moment.
\renewcommand{\k}[1] {\textbf{#1}}

% Standard for computer in/output
\DeclareTextFontCommand{\terminalfont}{\normalfont\ttfamily}

% \f is a function name. Just do this as tt.
\newcommand{\f}[1] {\terminalfont{#1}}

% \var is a variable name.
\newcommand{\var}[1] {\terminalfont{#1}}

% \sw is a switch.
\DeclareRobustCommand{\sw}[1]{\terminalfont{#1}}

% \msg for message text
\newcommand{\msg}[1]{\terminalfont{#1}}

% An example macro for numbering and indenting examples.
\newcounter{examplectr}
\newcommand{\example}{\refstepcounter{examplectr}
\noindent{\bf Example \theexamplectr}}

\setcounter{examplectr}{0}

\newcommand{\calA}{\mathcal{A}}
\newcommand{\calM}{\mathcal{M}}
\newcommand{\calU}{\mathcal{U}}
\newcommand{\calV}{\mathcal{V}}

%%\pagenumbering{roman}
\pagestyle{empty}

\makeindex

\begin{document}

%% For MathJax, equation references must be output unprocessed, so use
%% this new macro \eqnref instead of \ref for equation references
%% only, and redefine \eqref.  (This definition must be
%% after \begin{document} for the condition to work!)
\ifdefined\VerbMath
\newcommand{\eqnref}[1]{\alteqtoks{\ref{#1}}}
\renewcommand{\eqref}[1]{\alteqtoks{\eqref{#1}}}
\else
\newcommand{\eqnref}[1]{\ref{#1}}
\fi

%\bibliographystyle{plain}
\bibliographystyle{alpha}

\pagestyle{empty}


\include{title}

\newpage

\pagestyle{headings}
%\setcounter{page}{0}
\pdfbookmark[0]{Contents}{tocContents}

%% tex4ht.sty generates a TOC automatically and we don't want two.
\ifdefined\HCode\else
\tableofcontents
\fi

\index{Hearn, Anthony C.}
\index{Persons!Hearn, Anthony C.}
\include{abstract}
\include{acknowl}
\include{intro}
\include{progstr}
\include{exprn}
\include{list}
\include{statemnt}
\include{command}
\include{oper}
\input{solve}
\input{ineq}
%\input{roots}
\input{rsolve}
\input{modsr}
\input{oper2}
\include{structr}
\include{polyrat}
\include{aprop}
\include{subst}
\include{io}
\include{inter}
\include{matrix}
\include{proc}
\include{series}
\include{numeric}
\include{gnuplot}
\input{turtle}
\include{rtrace}
\include{user}
\include{symbolic}
\input{rlisp88}
\input{rlispref}
\include{hephys}
\include{util}
\include{maintain}
\include{appenda}
\bibliography{bibl,manual}
%\include{biblio}
\include{changes}

\printindex

\end{document}
